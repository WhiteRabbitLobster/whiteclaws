(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{7837:function(e,t,r){Promise.resolve().then(r.bind(r,4184))},4184:function(e,t,r){"use strict";r.d(t,{default:function(){return d}});var s=r(7437),a=r(2265),n=r(9376),i=r(7648),l=r(6362),c=r(4392),o=r(4508);let u=(0,a.forwardRef)((e,t)=>{let{label:r,error:a,helperText:n,className:i,...l}=e;return(0,s.jsxs)("div",{className:"w-full",children:[r&&(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:[r,l.required&&(0,s.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,s.jsx)("input",{ref:t,className:(0,o.cn)("w-full px-4 py-2.5 bg-gray-800 border rounded-lg text-white placeholder-gray-500","focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent","transition-all duration-200",a?"border-red-500 focus:ring-red-500":"border-gray-700 hover:border-gray-600",i),...l}),a&&(0,s.jsx)("p",{className:"mt-1.5 text-sm text-red-400",children:a}),n&&!a&&(0,s.jsx)("p",{className:"mt-1.5 text-sm text-gray-500",children:n})]})});function d(){let e=(0,n.useRouter)(),t=(0,n.useSearchParams)().get("callbackUrl")||"/dashboard",{signIn:r,signInWithOAuth:o,loading:d}=(0,l.a)(),[h,g]=(0,a.useState)(""),[x,m]=(0,a.useState)(""),[f,y]=(0,a.useState)(""),p=async s=>{s.preventDefault(),y(""),(await r(h,x)).success?e.push(t):y("Invalid email or password")},b=async()=>{y(""),(await o("twitter")).success||y("Failed to connect with Twitter")},v=async()=>{y(""),(await o("github")).success||y("Failed to connect with GitHub")};return(0,s.jsx)("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-white",children:"Sign in to WhiteClaws"}),(0,s.jsx)("p",{className:"mt-2 text-center text-sm text-gray-400",children:"Connect your wallet or sign in with social accounts"})]}),f&&(0,s.jsx)("div",{className:"bg-red-900/50 border border-red-800 rounded-lg p-4",children:(0,s.jsx)("p",{className:"text-red-400 text-sm text-center",children:f})}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)(c.Z,{variant:"secondary",fullWidth:!0,onClick:b,disabled:d,className:"flex items-center justify-center space-x-2",children:[(0,s.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),(0,s.jsx)("span",{children:"Continue with Twitter"})]}),(0,s.jsxs)(c.Z,{variant:"secondary",fullWidth:!0,onClick:v,disabled:d,className:"flex items-center justify-center space-x-2",children:[(0,s.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),(0,s.jsx)("span",{children:"Continue with GitHub"})]})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,s.jsx)("div",{className:"w-full border-t border-gray-700"})}),(0,s.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,s.jsx)("span",{className:"px-2 bg-gray-900 text-gray-500",children:"Or continue with email"})})]}),(0,s.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:p,children:[(0,s.jsxs)("div",{className:"rounded-md shadow-sm space-y-4",children:[(0,s.jsx)(u,{label:"Email address",type:"email",value:h,onChange:e=>g(e.target.value),required:!0,placeholder:"you@example.com"}),(0,s.jsx)(u,{label:"Password",type:"password",value:x,onChange:e=>m(e.target.value),required:!0,placeholder:"••••••••"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-700 rounded bg-gray-800"}),(0,s.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-400",children:"Remember me"})]}),(0,s.jsx)("div",{className:"text-sm",children:(0,s.jsx)(i.default,{href:"/forgot-password",className:"font-medium text-indigo-400 hover:text-indigo-300",children:"Forgot password?"})})]}),(0,s.jsx)(c.Z,{type:"submit",fullWidth:!0,disabled:d,children:d?"Signing in...":"Sign in"})]}),(0,s.jsx)("div",{className:"text-center",children:(0,s.jsxs)("p",{className:"text-sm text-gray-400",children:["Don't have an account?"," ",(0,s.jsx)(i.default,{href:"/signup",className:"font-medium text-indigo-400 hover:text-indigo-300",children:"Sign up"})]})}),(0,s.jsx)("div",{className:"mt-6 text-center",children:(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:["Are you a bounty program?"," ",(0,s.jsx)(i.default,{href:"/bounties/apply",className:"text-indigo-400 hover:text-indigo-300",children:"Apply here"})]})})]})})}u.displayName="Input"},4392:function(e,t,r){"use strict";var s=r(7437),a=r(4508);let n=(0,r(2265).forwardRef)((e,t)=>{let{children:r,variant:n="primary",size:i="md",isLoading:l=!1,fullWidth:c=!1,className:o,disabled:u,...d}=e;return(0,s.jsxs)("button",{ref:t,className:(0,a.cn)("inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 disabled:opacity-50 disabled:cursor-not-allowed",{primary:"bg-indigo-600 text-white hover:bg-indigo-500 focus:ring-indigo-500 active:bg-indigo-700",secondary:"bg-gray-700 text-white hover:bg-gray-600 focus:ring-gray-500 active:bg-gray-800",danger:"bg-red-600 text-white hover:bg-red-500 focus:ring-red-500 active:bg-red-700",success:"bg-green-600 text-white hover:bg-green-500 focus:ring-green-500 active:bg-green-700",ghost:"bg-transparent text-gray-300 hover:text-white hover:bg-gray-800 focus:ring-gray-500",outline:"border-2 border-gray-600 text-gray-300 hover:border-gray-500 hover:text-white focus:ring-gray-500"}[n],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[i],c&&"w-full",o),disabled:u||l,...d,children:[l&&(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r]})});n.displayName="Button",t.Z=n},6362:function(e,t,r){"use strict";r.d(t,{a:function(){return n}});var s=r(2265),a=r(970);function n(){let[e,t]=(0,s.useState)({user:null,loading:!0,error:null}),r=(0,a.e)();(0,s.useEffect)(()=>{(async()=>{try{let{data:{session:e},error:s}=await r.auth.getSession();if(s)throw s;t(t=>{var r;return{...t,user:null!==(r=null==e?void 0:e.user)&&void 0!==r?r:null,loading:!1}})}catch(e){t(t=>({...t,error:e,loading:!1}))}})();let{data:{subscription:e}}=r.auth.onAuthStateChange((e,r)=>{t(e=>{var t;return{...e,user:null!==(t=null==r?void 0:r.user)&&void 0!==t?t:null,loading:!1}})});return()=>{e.unsubscribe()}},[r]);let n=(0,s.useCallback)(async(e,s)=>{try{t(e=>({...e,loading:!0,error:null}));let{data:a,error:n}=await r.auth.signInWithPassword({email:e,password:s});if(n)throw n;return t(e=>({...e,user:a.user,loading:!1})),{success:!0}}catch(e){return t(t=>({...t,error:e,loading:!1})),{success:!1,error:e}}},[r]),i=(0,s.useCallback)(async(e,s,a)=>{try{t(e=>({...e,loading:!0,error:null}));let{data:n,error:i}=await r.auth.signUp({email:e,password:s,options:{data:a}});if(i)throw i;return t(e=>({...e,user:n.user,loading:!1})),{success:!0}}catch(e){return t(t=>({...t,error:e,loading:!1})),{success:!1,error:e}}},[r]),l=(0,s.useCallback)(async()=>{try{t(e=>({...e,loading:!0}));let{error:e}=await r.auth.signOut();if(e)throw e;return t({user:null,loading:!1,error:null}),{success:!0}}catch(e){return t(t=>({...t,error:e,loading:!1})),{success:!1,error:e}}},[r]),c=(0,s.useCallback)(async e=>{try{t(e=>({...e,loading:!0,error:null}));let{data:s,error:a}=await r.auth.signInWithOAuth({provider:e,options:{redirectTo:"".concat(window.location.origin,"/auth/callback")}});if(a)throw a;return{success:!0,url:s.url}}catch(e){return t(t=>({...t,error:e,loading:!1})),{success:!1,error:e}}},[r]);return{...e,signIn:n,signUp:i,signOut:l,signInWithOAuth:c,isAuthenticated:!!e.user}}},970:function(e,t,r){"use strict";r.d(t,{e:function(){return a}});var s=r(4033);function a(){return(0,s.createBrowserClient)("https://placeholder.supabase.co","placeholder-key")}},4508:function(e,t,r){"use strict";r.d(t,{cn:function(){return n}});var s=r(1994),a=r(3335);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,s.W)(t))}},7648:function(e,t,r){"use strict";r.d(t,{default:function(){return a.a}});var s=r(2972),a=r.n(s)}},function(e){e.O(0,[972,146,137,971,117,744],function(){return e(e.s=7837)}),_N_E=e.O()}]);